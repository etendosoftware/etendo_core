<!-- Created with Jaspersoft Studio version 7.0.3.final using JasperReports Library version 7.0.3-41034ca841d452f3305ba55b9042260aaa1ab5dd  -->
<jasperReport name="Customer Statement" language="java" pageWidth="595" pageHeight="842" whenNoDataType="AllSectionsNoDetail" columnWidth="555" leftMargin="20" rightMargin="20" topMargin="20" bottomMargin="20" uuid="497a0ae3-5aac-448b-a8a4-4b6619407498">
	<property name="ireport.scriptlethandling" value="0"/>
	<property name="ireport.encoding" value="UTF-8"/>
	<property name="ireport.zoom" value="1.2100000000000006"/>
	<property name="ireport.x" value="0"/>
	<property name="ireport.y" value="0"/>
	<property name="net.sf.jasperreports.export.xls.detect.cell.type" value="true"/>
	<import>net.sf.jasperreports.engine.*</import>
	<import>java.util.*</import>
	<import>org.openbravo.erpCommon.ReportsUtility</import>
	<import>net.sf.jasperreports.engine.data.*</import>
	<style name="default" vTextAlign="Middle" vImageAlign="Middle" fontName="Bitstream Vera Sans" fontSize="10.0"/>
	<style name="Report_Title" fontName="Bitstream Vera Sans" fontSize="18.0">
		<box leftPadding="5"/>
	</style>
	<style name="Group_Data_Label" fontName="Bitstream Vera Sans" fontSize="11.0" bold="true"/>
	<style name="Report_Subtitle" forecolor="#555555" fontName="Bitstream Vera Sans" fontSize="14.0">
		<box leftPadding="5"/>
	</style>
	<style name="Total_Field" mode="Opaque" forecolor="#000000" backcolor="#CCCCCC" vTextAlign="Middle" vImageAlign="Middle">
		<box leftPadding="5"/>
	</style>
	<style name="Detail_Header" mode="Opaque" forecolor="#FFFFFF" backcolor="#555555" vTextAlign="Middle" vImageAlign="Middle">
		<box leftPadding="5">
			<leftPen lineWidth="1.0" lineStyle="Solid" lineColor="#FFFFFF"/>
			<rightPen lineWidth="1.0" lineStyle="Solid" lineColor="#FFFFFF"/>
		</box>
	</style>
	<style name="GroupHeader_DarkGray" mode="Opaque" forecolor="#FFFFFF" backcolor="#555555" vTextAlign="Middle" vImageAlign="Middle" fontName="Bitstream Vera Sans" fontSize="14.0">
		<box leftPadding="5"/>
	</style>
	<style name="GroupHeader_Gray" mode="Opaque" backcolor="#999999"/>
	<style name="Detail_Line">
		<conditionalStyle mode="Opaque" backcolor="#CCCCCC">
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==1)]]></conditionExpression>
		</conditionalStyle>
	</style>
	<style name="Total_Gray" mode="Opaque" forecolor="#000000" backcolor="#CCCCCC"/>
	<parameter name="ATTACH" forPrompting="false" class="java.lang.String"/>
	<parameter name="BASE_WEB" forPrompting="false" class="java.lang.String">
		<defaultValueExpression><![CDATA["http://localhost:8080/openbravo/web"]]></defaultValueExpression>
	</parameter>
	<parameter name="BASE_DESIGN" forPrompting="false" class="java.lang.String">
		<defaultValueExpression><![CDATA["/home/openbravo/servers/tomcat6/webapps/openbravo/src-loc/design"]]></defaultValueExpression>
	</parameter>
	<parameter name="LANGUAGE" forPrompting="false" class="java.lang.String">
		<defaultValueExpression><![CDATA["en_US"]]></defaultValueExpression>
	</parameter>
	<parameter name="USER_CLIENT" forPrompting="false" class="java.lang.String">
		<defaultValueExpression><![CDATA["('1000000')"]]></defaultValueExpression>
	</parameter>
	<parameter name="USER_ORG" forPrompting="false" class="java.lang.String">
		<defaultValueExpression><![CDATA["('0')"]]></defaultValueExpression>
	</parameter>
	<parameter name="REPORT_TITLE" forPrompting="false" class="java.lang.String">
		<defaultValueExpression><![CDATA["REPORT TITLE"]]></defaultValueExpression>
	</parameter>
	<parameter name="REPORT_SUBTITLE" forPrompting="false" class="java.lang.String"/>
	<parameter name="LOCALE" forPrompting="false" class="java.util.Locale"/>
	<parameter name="NUMBERFORMAT" forPrompting="false" class="java.text.DecimalFormat"/>
	<parameter name="C_BPartner_ID" class="java.lang.String"/>
	<parameter name="C_AcctSchema_ID" class="java.lang.String"/>
	<parameter name="DateFrom" class="java.lang.String"/>
	<parameter name="DateTo" class="java.lang.String"/>
	<parameter name="AD_Org_ID" class="java.lang.String"/>
	<parameter name="DATEFORMAT" class="java.text.DateFormat">
		<defaultValueExpression><![CDATA[$P{REPORT_FORMAT_FACTORY}.createDateFormat("", $P{REPORT_LOCALE}, $P{REPORT_TIME_ZONE})]]></defaultValueExpression>
	</parameter>
	<parameter name="reportType" class="java.lang.String"/>
	<parameter name="sumInitialBalance" class="java.lang.String"/>
	<parameter name="Multicurrency" class="java.lang.String"/>
	<query language="SQL"><![CDATA[SELECT trunc(f.dateacct) as dateacct,
        CASE WHEN f.c_doctype_id IS NOT NULL THEN (SELECT MIN(name)
                                       FROM c_doctype
                                       WHERE c_doctype_id = f.c_doctype_id)
        ELSE (SELECT MIN(name)
              FROM ad_ref_list
              WHERE ad_reference_id = '183'
              AND value = f.docbasetype)
        END as documenttype,
    f.description,
    (CASE WHEN $P{Multicurrency} = 'Y' THEN f.amtsourcedr ELSE f.amtacctdr END) as debit,
    (CASE WHEN $P{Multicurrency} = 'Y' THEN f.amtsourcecr ELSE f.amtacctcr END) as credit,
    (CASE WHEN $P{Multicurrency} = 'Y' THEN (f.amtsourcedr - f.amtsourcecr) ELSE (f.amtacctdr - f.amtacctcr) END) as net,
    (CASE WHEN $P{Multicurrency} = 'Y' THEN f.c_currency_id ELSE NULL END) as currency_id,
    curr.iso_code as currency_code,
    curr.description as currency_name,
    bp.name as bpname, o.ad_org_id as organizationid,
    loc.address1 || ' ' || COALESCE(TO_CHAR(loc.address2), TO_CHAR('')) as org_address,
    loc.city || ', ' || ad_column_identifier('C_Region', loc.c_region_id, COALESCE($P{LANGUAGE}, 'en_US')) || ' ' || loc.postal
    || ' ' || ad_column_identifier('C_Country', loc.c_country_id, COALESCE($P{LANGUAGE}, 'en_US')) AS org_postal,
    (SELECT MAX(email) FROM ad_user WHERE ad_user_id=oinfo.ad_user_id) as email,
    (SELECT MAX(phone) FROM ad_user WHERE ad_user_id=oinfo.ad_user_id) as phone,
    issotrx.issotrx as issotrx
FROM fact_acct f
    JOIN c_currency curr ON (f.c_currency_id = curr.c_currency_id)
    LEFT JOIN c_acctschema acct ON (f.c_acctschema_id=acct.c_acctschema_id)
    LEFT JOIN c_bpartner bp ON (f.c_bpartner_id=bp.c_bpartner_id)
    JOIN (SELECT ad_org_id
          FROM ad_org
          WHERE ad_isorgincluded(ad_org_id, $P{AD_Org_ID}, ad_client_id) <> -1) org ON (f.ad_org_id=org.ad_org_id), ad_org o
    LEFT JOIN ad_orginfo oinfo ON (o.ad_org_id=oinfo.ad_org_id)
    LEFT JOIN c_location loc ON (oinfo.c_location_id=loc.c_location_id), (SELECT CASE WHEN value=1 THEN 'Y' ELSE 'N' END AS issotrx
                                                                          FROM ad_integer
                                                                          WHERE value < 3) issotrx
WHERE o.ad_org_id=$P{AD_Org_ID}
    AND (($P{reportType} IN ('cus','both')
    AND account_id IN
        (SELECT account_id
         FROM c_validcombination
         WHERE c_acctschema_id = $P{C_AcctSchema_ID}
             AND (c_validcombination_id IN
                (SELECT c_receivable_acct
                 FROM c_bp_customer_acct
                 WHERE c_bpartner_id = $P{C_BPartner_ID}
                 AND c_acctschema_id = $P{C_AcctSchema_ID})
             OR c_validcombination_id IN
                (SELECT c_prepayment_acct
                 FROM c_bp_customer_acct
                 WHERE c_bpartner_id = $P{C_BPartner_ID}
                 AND c_acctschema_id = $P{C_AcctSchema_ID})))
    AND issotrx.issotrx='Y')
   OR ($P{reportType} IN ('ven','both')
   AND account_id IN
        (SELECT account_id
         FROM c_validcombination
         WHERE c_acctschema_id = $P{C_AcctSchema_ID}
             AND (c_validcombination_id IN
                (SELECT v_liability_acct
                 FROM c_bp_vendor_acct
                 WHERE c_bpartner_id = $P{C_BPartner_ID}
                 AND c_acctschema_id = $P{C_AcctSchema_ID})
             OR c_validcombination_id IN
                (SELECT v_prepayment_acct
                 FROM c_bp_vendor_acct
                 WHERE c_bpartner_id = $P{C_BPartner_ID}
                 AND c_acctschema_id = $P{C_AcctSchema_ID})))
    AND issotrx.issotrx='N'))
    AND f.c_bpartner_id =  $P{C_BPartner_ID}
    AND f.c_acctschema_id = $P{C_AcctSchema_ID}
    AND trunc(f.dateacct) >= (CASE WHEN ($P{DateFrom} IS NULL OR $P{DateFrom}='') THEN TO_DATE('01-01-0001')
        ELSE TO_DATE($P{DateFrom}) END)
    AND trunc(f.dateacct) <= (CASE WHEN ($P{DateTo} IS NULL OR $P{DateTo}='') THEN TO_DATE('09-09-9999')
        ELSE TO_DATE($P{DateTo}) END)
    AND f.ad_table_id not IN ('145')
ORDER BY currency_id, issotrx, f.dateacct, f.created]]></query>
	<field name="org_address" class="java.lang.String"/>
	<field name="org_postal" class="java.lang.String"/>
	<field name="dateacct" class="java.util.Date"/>
	<field name="organizationid" class="java.lang.String"/>
	<field name="documenttype" class="java.lang.String"/>
	<field name="description" class="java.lang.String"/>
	<field name="bpname" class="java.lang.String"/>
	<field name="email" class="java.lang.String"/>
	<field name="phone" class="java.lang.String"/>
	<field name="debit" class="java.math.BigDecimal"/>
	<field name="credit" class="java.math.BigDecimal"/>
	<field name="net" class="java.math.BigDecimal"/>
	<field name="currency_id" class="java.lang.String">
		<description><![CDATA[]]></description>
	</field>
	<field name="currency_code" class="java.lang.String">
		<description><![CDATA[]]></description>
	</field>
	<field name="currency_name" class="java.lang.String">
		<description><![CDATA[]]></description>
	</field>
	<field name="issotrx" class="java.lang.String"/>
	<variable name="SUM" resetType="Group" calculation="Sum" resetGroup="Sales / Purchase" class="java.math.BigDecimal">
		<expression><![CDATA[$F{net}]]></expression>
	</variable>
	<variable name="DateFrom" calculation="Lowest" class="java.util.Date">
		<expression><![CDATA[$F{dateacct}]]></expression>
	</variable>
	<variable name="DateTo" calculation="Highest" class="java.util.Date">
		<expression><![CDATA[$F{dateacct}]]></expression>
	</variable>
	<variable name="customerInitialBalance" resetType="Group" resetGroup="Currency" class="java.math.BigDecimal">
		<expression><![CDATA[ReportsUtility.getBeginningBalance($P{AD_Org_ID}, $P{C_AcctSchema_ID}, $P{C_BPartner_ID}, $P{DateFrom}, true, $F{currency_id})]]></expression>
	</variable>
	<variable name="customerBalance" resetType="Group" resetGroup="Sales / Purchase" class="java.math.BigDecimal">
		<expression><![CDATA[$V{customerInitialBalance}.add($V{SUM})]]></expression>
	</variable>
	<variable name="vendorInitialBalance" resetType="Group" resetGroup="Currency" class="java.math.BigDecimal">
		<expression><![CDATA[ReportsUtility.getBeginningBalance($P{AD_Org_ID}, $P{C_AcctSchema_ID}, $P{C_BPartner_ID}, $P{DateFrom}, false, $F{currency_id})]]></expression>
	</variable>
	<variable name="vendorBalance" resetType="Group" resetGroup="Sales / Purchase" class="java.math.BigDecimal">
		<expression><![CDATA[$V{vendorInitialBalance}.add($V{SUM})]]></expression>
	</variable>
	<variable name="TOTALSUM" resetType="Group" calculation="Sum" resetGroup="Currency" class="java.math.BigDecimal">
		<expression><![CDATA[$F{net}]]></expression>
	</variable>
	<variable name="totalBalance" resetType="Group" resetGroup="Currency" class="java.math.BigDecimal">
		<expression><![CDATA[$V{TOTALSUM}.add($V{customerInitialBalance}).add($V{vendorInitialBalance})]]></expression>
	</variable>
	<variable name="totalInitialBalance" resetType="Group" resetGroup="Currency" class="java.math.BigDecimal">
		<expression><![CDATA[$V{vendorInitialBalance}.add($V{customerInitialBalance})]]></expression>
	</variable>
	<group name="PrintLarge" reprintHeaderOnEachPage="true">
		<expression><![CDATA[]]></expression>
	</group>
	<group name="PrintMedium" reprintHeaderOnEachPage="true">
		<expression><![CDATA[]]></expression>
	</group>
	<group name="Currency" startNewPage="true">
		<expression><![CDATA[$F{currency_id}]]></expression>
		<groupHeader>
			<band height="65">
				<printWhenExpression><![CDATA["Y".equals($P{Multicurrency})]]></printWhenExpression>
				<element kind="textField" uuid="688616ea-456f-4d6f-bc04-0c3e5066ae6b" x="80" y="34" width="47" height="29" fontName="DejaVu Sans" fontSize="16.0" vTextAlign="Middle">
					<expression><![CDATA[$F{currency_code}]]></expression>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</element>
				<element kind="textField" uuid="f8b29d19-412a-4998-8f35-03550e7d78eb" x="127" y="34" width="243" height="29" fontName="DejaVu Sans" fontSize="16.0" vTextAlign="Middle">
					<expression><![CDATA[$F{currency_name}]]></expression>
					<property name="local_mesure_unitheight" value="pixel"/>
					<property name="com.jaspersoft.studio.unit.height" value="px"/>
				</element>
				<element kind="staticText" uuid="003bd68e-0af5-4a3d-a985-7aefb853337f" x="0" y="34" width="80" height="29" fontName="DejaVu Sans" fontSize="16.0" bold="false" vTextAlign="Middle">
					<text><![CDATA[Currency]]></text>
				</element>
				<element kind="line" uuid="3928cbc2-8a16-499c-8baa-fb72b379b792" x="0" y="30" width="555" height="1"/>
				<property name="com.jaspersoft.studio.layout" value="com.jaspersoft.studio.editor.layout.FreeLayout"/>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="67">
				<printWhenExpression><![CDATA[$P{reportType}.equals("both")]]></printWhenExpression>
				<element kind="line" uuid="382bf123-c27c-426b-a320-1a2df3a239e9" x="236" y="47" width="320" height="3"/>
				<element kind="line" uuid="5d70d63d-44fd-446f-ba3f-04bfa9101df7" x="236" y="45" width="320" height="3"/>
				<element kind="staticText" uuid="4b7939f4-7137-4121-a9e9-687b1e20cc84" positionType="Float" mode="Opaque" x="236" y="32" width="210" height="15" forecolor="#000000" backcolor="#FFFFFF" rotation="None" markup="none" fontName="DejaVu Sans" fontSize="10.0" pdfFontName="Helvetica" pdfEncoding="Cp1252" printWhenDetailOverflows="true" pdfEmbedded="false" bold="true" italic="false" underline="false" strikeThrough="false" hTextAlign="Right" vTextAlign="Middle">
					<paragraph lineSpacing="Single"/>
					<text><![CDATA[Business Partner Balance :]]></text>
				</element>
				<element kind="line" uuid="cd37578f-91ec-4417-ad1c-e1f2889f6d6a" x="236" y="17" width="320" height="1"/>
				<element kind="textField" uuid="3d009a3e-d394-4eba-a4f7-7b29d5b99f74" positionType="Float" mode="Transparent" x="446" y="32" width="110" height="15" forecolor="#000000" backcolor="#FFFFFF" rotation="None" markup="none" fontName="DejaVu Sans" fontSize="10.0" pdfFontName="Helvetica" pdfEncoding="Cp1252" evaluationTime="Group" pattern="" evaluationGroup="Sales / Purchase" blankWhenNull="true" pdfEmbedded="false" bold="true" italic="false" underline="false" strikeThrough="false" hTextAlign="Right" vTextAlign="Middle">
					<paragraph lineSpacing="Single"/>
					<expression><![CDATA[$V{totalBalance}.compareTo(BigDecimal.ZERO) < 0 ? $V{totalBalance}.abs() : $V{totalBalance}]]></expression>
					<patternExpression><![CDATA[$V{totalBalance}.compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
					<box rightPadding="5"/>
				</element>
				<element kind="staticText" uuid="62499066-a0e4-46b3-bd28-3e611823c5dd" x="236" y="3" width="210" height="14" forecolor="#000000" backcolor="#FFFFFF" fontName="DejaVu Sans" fontSize="10.0" printWhenDetailOverflows="true" bold="true" hTextAlign="Right" vTextAlign="Top">
					<text><![CDATA[Business Partner Initial Balance :]]></text>
				</element>
				<element kind="textField" uuid="db8ea373-d4a6-4a80-9543-edb9914382c4" stretchType="ElementGroupHeight" mode="Transparent" x="446" y="3" width="110" height="14" forecolor="#000000" backcolor="#FFFFFF" rotation="None" markup="none" fontName="DejaVu Sans" fontSize="10.0" pdfFontName="Helvetica" pdfEncoding="Cp1252" textAdjust="StretchHeight" evaluationTime="Group" pattern="" evaluationGroup="Sales / Purchase" blankWhenNull="true" pdfEmbedded="false" bold="true" italic="false" underline="false" strikeThrough="false" hTextAlign="Right" vTextAlign="Middle" style="Detail_Line">
					<paragraph lineSpacing="Single" style="Detail_Line"/>
					<expression><![CDATA[$V{totalInitialBalance}.compareTo(BigDecimal.ZERO) < 0 ? $V{totalInitialBalance}.abs() : $V{totalInitialBalance}]]></expression>
					<patternExpression><![CDATA[$V{totalInitialBalance}.compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
				</element>
			</band>
		</groupFooter>
	</group>
	<group name="Sales / Purchase" reprintHeaderOnEachPage="true">
		<expression><![CDATA[$F{issotrx}]]></expression>
		<groupHeader>
			<band height="78">
				<element kind="textField" uuid="bab14b42-0911-481b-84b2-200ab637a727" stretchType="ElementGroupHeight" mode="Transparent" x="446" y="56" width="110" height="14" forecolor="#000000" backcolor="#FFFFFF" rotation="None" markup="none" fontName="DejaVu Sans" fontSize="10.0" pdfFontName="Helvetica" pdfEncoding="Cp1252" textAdjust="StretchHeight" evaluationTime="Group" pattern="" evaluationGroup="Sales / Purchase" blankWhenNull="true" pdfEmbedded="false" bold="true" italic="false" underline="false" strikeThrough="false" hTextAlign="Right" vTextAlign="Middle" style="Detail_Line">
					<printWhenExpression><![CDATA[($P{reportType}.equals("cus")) || ($P{reportType}.equals("both") && $F{issotrx}.equals("Y"))]]></printWhenExpression>
					<paragraph lineSpacing="Single" style="Detail_Line"/>
					<expression><![CDATA[$V{customerInitialBalance}.compareTo(BigDecimal.ZERO) < 0 ?  $V{customerInitialBalance}.abs() : $V{customerInitialBalance}]]></expression>
					<patternExpression><![CDATA[$V{customerInitialBalance}.compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
				</element>
				<element kind="staticText" uuid="b7fa0a14-eaf8-4ba3-8f63-b539a95d5c7f" x="331" y="56" width="115" height="14" forecolor="#000000" backcolor="#FFFFFF" fontName="DejaVu Sans" fontSize="10.0" bold="true" hTextAlign="Right" vTextAlign="Top">
					<text><![CDATA[Initial Balance :]]></text>
				</element>
				<element kind="line" uuid="0324ab00-5242-4117-bc12-2413a8568017" x="331" y="70" width="225" height="1"/>
				<element kind="staticText" uuid="bfae711e-d1a9-41a6-ab3e-ee8818f58e76" x="0" y="7" width="330" height="20" forecolor="#595959" fontName="DejaVu Sans" fontSize="16.0">
					<printWhenExpression><![CDATA[$P{reportType}.equals("both") && $F{issotrx}.equals("Y")]]></printWhenExpression>
					<text><![CDATA[Customer Statement]]></text>
				</element>
				<element kind="staticText" uuid="6c954583-0980-4275-b5c6-94726deb66fb" x="128" y="36" width="202" height="13" forecolor="#000000" backcolor="#FFFFFF" fontName="DejaVu Sans" fontSize="8.0" printWhenDetailOverflows="true" bold="true" hTextAlign="Left" vTextAlign="Top">
					<text><![CDATA[Description]]></text>
				</element>
				<element kind="staticText" uuid="41e42641-3f87-4355-9e24-f48fe98633d1" x="0" y="36" width="47" height="13" forecolor="#000000" backcolor="#FFFFFF" fontName="DejaVu Sans" fontSize="8.0" printWhenDetailOverflows="true" bold="true" vTextAlign="Top">
					<text><![CDATA[Date]]></text>
				</element>
				<element kind="staticText" uuid="2684e5bb-9e7f-4006-9a50-334a26bc8144" x="47" y="36" width="81" height="13" forecolor="#000000" backcolor="#FFFFFF" fontName="DejaVu Sans" fontSize="8.0" printWhenDetailOverflows="true" bold="true" hTextAlign="Left" vTextAlign="Top">
					<text><![CDATA[Document Type]]></text>
				</element>
				<element kind="staticText" uuid="1a9426e0-9cd4-444a-84e4-2ef7f31d0115" x="330" y="36" width="75" height="13" forecolor="#000000" backcolor="#FFFFFF" fontName="DejaVu Sans" fontSize="8.0" printWhenDetailOverflows="true" bold="true" hTextAlign="Right" vTextAlign="Top">
					<text><![CDATA[Debit]]></text>
				</element>
				<element kind="staticText" uuid="a6803da0-801c-473c-9122-0fdae0ad6b4c" x="405" y="36" width="75" height="13" forecolor="#000000" backcolor="#FFFFFF" fontName="DejaVu Sans" fontSize="8.0" printWhenDetailOverflows="true" bold="true" hTextAlign="Right" vTextAlign="Top">
					<text><![CDATA[Credit]]></text>
				</element>
				<element kind="staticText" uuid="550e60d2-54e1-410d-8059-90e8bc32ac01" x="480" y="36" width="75" height="13" forecolor="#000000" backcolor="#FFFFFF" fontName="DejaVu Sans" fontSize="8.0" printWhenDetailOverflows="true" bold="true" hTextAlign="Right" vTextAlign="Top">
					<text><![CDATA[Net]]></text>
				</element>
				<element kind="line" uuid="750cccdd-cdc1-4e35-8fef-cd0bc3440eff" x="0" y="49" width="555" height="1"/>
				<element kind="staticText" uuid="fcaab7ce-176e-4b44-81c4-a9df9f2bb719" stretchType="ContainerHeight" x="1" y="7" width="330" height="20" forecolor="#595959" markup="html" fontName="DejaVu Sans" fontSize="16.0">
					<printWhenExpression><![CDATA[$P{reportType}.equals("both") && $F{issotrx}.equals("N")]]></printWhenExpression>
					<text><![CDATA[Vendor Statement]]></text>
				</element>
				<element kind="textField" uuid="0af3ed56-3508-44dd-aeb6-4e3ff0c30acd" stretchType="ElementGroupHeight" mode="Transparent" x="446" y="56" width="110" height="14" forecolor="#000000" backcolor="#FFFFFF" rotation="None" markup="none" fontName="DejaVu Sans" fontSize="10.0" pdfFontName="Helvetica" pdfEncoding="Cp1252" textAdjust="StretchHeight" evaluationTime="Group" pattern="" evaluationGroup="Sales / Purchase" blankWhenNull="true" pdfEmbedded="false" bold="true" italic="false" underline="false" strikeThrough="false" hTextAlign="Right" vTextAlign="Middle" style="Detail_Line">
					<printWhenExpression><![CDATA[($P{reportType}.equals("ven")) || ($P{reportType}.equals("both") && $F{issotrx}.equals("N"))]]></printWhenExpression>
					<paragraph lineSpacing="Single" style="Detail_Line"/>
					<expression><![CDATA[$V{vendorInitialBalance}.compareTo(BigDecimal.ZERO) < 0 ? $V{vendorInitialBalance}.abs() : $V{vendorInitialBalance}]]></expression>
					<patternExpression><![CDATA[$V{vendorInitialBalance}.compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
				</element>
			</band>
		</groupHeader>
		<groupFooter>
			<band height="44">
				<element kind="textField" uuid="a75fd489-5f32-4dba-adc8-d961d69350fe" positionType="Float" mode="Transparent" x="445" y="12" width="110" height="15" forecolor="#000000" backcolor="#FFFFFF" rotation="None" markup="none" fontName="DejaVu Sans" fontSize="10.0" pdfFontName="Helvetica" pdfEncoding="Cp1252" evaluationTime="Group" pattern="" evaluationGroup="Sales / Purchase" blankWhenNull="true" pdfEmbedded="false" bold="true" italic="false" underline="false" strikeThrough="false" hTextAlign="Right" vTextAlign="Middle">
					<printWhenExpression><![CDATA[($P{reportType}.equals("cus")) || ($P{reportType}.equals("both") && $F{issotrx}.equals("Y"))]]></printWhenExpression>
					<paragraph lineSpacing="Single"/>
					<expression><![CDATA[$V{customerBalance}.compareTo(BigDecimal.ZERO) < 0 ? $V{customerBalance}.abs() : $V{customerBalance}]]></expression>
					<patternExpression><![CDATA[$V{customerBalance}.compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
					<box rightPadding="5"/>
				</element>
				<element kind="staticText" uuid="8d228eb8-2fde-4f0a-9bfb-b6ee85f1eb54" positionType="Float" mode="Opaque" x="330" y="12" width="115" height="15" forecolor="#000000" backcolor="#FFFFFF" rotation="None" markup="none" fontName="DejaVu Sans" fontSize="10.0" pdfFontName="Helvetica" pdfEncoding="Cp1252" printWhenDetailOverflows="true" pdfEmbedded="false" bold="true" italic="false" underline="false" strikeThrough="false" hTextAlign="Right" vTextAlign="Middle">
					<paragraph lineSpacing="Single"/>
					<text><![CDATA[Balance :]]></text>
				</element>
				<element kind="line" uuid="ba5bc91e-a835-4136-8823-f5bffa8b544b" x="330" y="27" width="225" height="1"/>
				<element kind="line" uuid="d705d5a1-56f8-4f10-80fb-171f41cf12a9" x="330" y="29" width="225" height="1"/>
				<element kind="textField" uuid="5ebb7055-46fa-4b7a-bf93-a40c5a017d07" positionType="Float" mode="Transparent" x="445" y="12" width="110" height="15" forecolor="#000000" backcolor="#FFFFFF" rotation="None" markup="none" fontName="DejaVu Sans" fontSize="10.0" pdfFontName="Helvetica" pdfEncoding="Cp1252" evaluationTime="Group" pattern="" evaluationGroup="Sales / Purchase" blankWhenNull="true" pdfEmbedded="false" bold="true" italic="false" underline="false" strikeThrough="false" hTextAlign="Right" vTextAlign="Middle">
					<printWhenExpression><![CDATA[($P{reportType}.equals("ven")) || ($P{reportType}.equals("both") && $F{issotrx}.equals("N"))]]></printWhenExpression>
					<paragraph lineSpacing="Single"/>
					<expression><![CDATA[$V{vendorBalance}.compareTo(BigDecimal.ZERO) < 0 ? $V{vendorBalance}.abs() : $V{vendorBalance}]]></expression>
					<patternExpression><![CDATA[$V{vendorBalance}.compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
					<box rightPadding="5"/>
				</element>
			</band>
		</groupFooter>
	</group>
	<background splitType="Stretch"/>
	<title splitType="Stretch"/>
	<pageHeader height="141" splitType="Stretch">
		<element kind="rectangle" uuid="a61f942d-14ea-46fc-865a-0fd446b65e6f" key="" x="0" y="0" width="559" height="77" forecolor="#FFFFFF" backcolor="#FFFFFF" printInFirstWholeBand="true"/>
		<element kind="image" uuid="73a5995d-9060-4607-b691-814fd83574d6" key="image-1" x="10" y="4" width="205" height="55" scaleImage="RetainShape" usingCache="true" hImageAlign="Center" vImageAlign="Middle">
			<expression><![CDATA[org.openbravo.erpCommon.utility.Utility.showImageLogo("yourcompanylegal", $F{organizationid})]]></expression>
		</element>
		<element kind="textField" uuid="715f1869-f95e-466f-9cb4-bf0ae163334c" x="490" y="48" width="59" height="11" fontName="DejaVu Sans" fontSize="9.0" bold="true" hTextAlign="Right" vTextAlign="Bottom">
			<expression><![CDATA[DateFormat.getDateInstance(DateFormat.SHORT,
        $P{LOCALE}).format(new Date())]]></expression>
		</element>
		<element kind="textField" uuid="9c171589-afee-4689-82e1-1bf6ef256481" x="0" y="101" width="371" height="12" fontName="DejaVu Sans" fontSize="10.0" blankWhenNull="true" bold="true" hTextAlign="Left" vTextAlign="Bottom">
			<expression><![CDATA[$F{bpname}]]></expression>
		</element>
		<element kind="textField" uuid="714e47f3-816e-4fc3-ae02-57bb0a15be40" x="10" y="59" width="301" height="12" forecolor="#595959" fontName="DejaVu Sans" fontSize="9.0" textAdjust="StretchHeight" blankWhenNull="true" printInFirstWholeBand="true" printWhenDetailOverflows="true">
			<expression><![CDATA[($F{org_address}.equals(null)?" ":$F{org_address}) + " " + ($F{org_postal}.equals(null)?" ":$F{org_postal})]]></expression>
		</element>
		<element kind="staticText" uuid="d4dc815c-b252-4559-ad05-71cf8cb0029a" x="236" y="4" width="313" height="20" forecolor="#595959" fontName="DejaVu Sans" fontSize="16.0" hTextAlign="Right">
			<printWhenExpression><![CDATA[$P{reportType}.equals("cus") && $F{issotrx}.equals("Y")]]></printWhenExpression>
			<text><![CDATA[Customer Statement]]></text>
		</element>
		<element kind="staticText" uuid="27172c38-5715-434d-9031-b5e0bde7fb17" x="371" y="48" width="119" height="11" forecolor="#595959" fontName="DejaVu Sans" fontSize="9.0" printWhenDetailOverflows="true" hTextAlign="Right">
			<text><![CDATA[Issued]]></text>
		</element>
		<element kind="textField" uuid="a47d2f0f-04c2-44f0-b11d-d0a2a91b159d" x="515" y="101" width="12" height="12" fontName="DejaVu Sans" fontSize="8.0" hTextAlign="Center" vTextAlign="Bottom">
			<expression><![CDATA[$V{PAGE_NUMBER}]]></expression>
		</element>
		<element kind="staticText" uuid="9a3bae21-c7d1-4187-a004-43f58364b284" x="483" y="101" width="32" height="12" fontName="DejaVu Sans" fontSize="8.0" printWhenDetailOverflows="true" hTextAlign="Center" vTextAlign="Bottom">
			<text><![CDATA[Page]]></text>
		</element>
		<element kind="staticText" uuid="7f781088-a5a6-4588-a67e-87ab7281fb70" x="527" y="101" width="11" height="12" fontName="DejaVu Sans" fontSize="8.0" hTextAlign="Justified" vTextAlign="Bottom">
			<text><![CDATA[of]]></text>
		</element>
		<element kind="textField" uuid="e5239722-8262-456f-901e-2e2f2b4d6c72" positionType="Float" x="538" y="101" width="12" height="12" fontName="DejaVu Sans" fontSize="8.0" evaluationTime="Report" hTextAlign="Justified" vTextAlign="Bottom">
			<expression><![CDATA[$V{PAGE_NUMBER}]]></expression>
		</element>
		<element kind="staticText" uuid="bfddfcad-55b3-4e95-9f35-d3fd940bb3b8" x="0" y="124" width="32" height="12" fontName="DejaVu Sans" fontSize="10.0" bold="false" vTextAlign="Bottom">
			<text><![CDATA[From]]></text>
		</element>
		<element kind="textField" uuid="0d10c075-8588-4aba-b65a-7216a84b11ad" x="80" y="124" width="45" height="12" fontName="DejaVu Sans" fontSize="10.0" evaluationTime="Report" bold="false" hTextAlign="Right" vTextAlign="Bottom">
			<expression><![CDATA[$P{DateFrom} != null ? DateFormat.getDateInstance(DateFormat.SHORT,$P{LOCALE}).format($P{DATEFORMAT}.parse($P{DateFrom}))  : DateFormat.getDateInstance(DateFormat.SHORT,$P{LOCALE}).format($V{DateFrom})]]></expression>
		</element>
		<element kind="textField" uuid="92cbe9ad-289f-4912-b262-215fae340e01" x="143" y="124" width="45" height="12" fontName="DejaVu Sans" fontSize="10.0" evaluationTime="Report" blankWhenNull="true" bold="false" vTextAlign="Bottom">
			<expression><![CDATA[$P{DateTo}  != null ? DateFormat.getDateInstance(DateFormat.SHORT,$P{LOCALE}).format($P{DATEFORMAT}.parse($P{DateTo})) : DateFormat.getDateInstance(DateFormat.SHORT,$P{LOCALE}).format($V{DateTo})]]></expression>
		</element>
		<element kind="staticText" uuid="5cf7ca7b-3437-4ecb-8a88-06fdc9224186" x="125" y="124" width="18" height="12" fontName="DejaVu Sans" fontSize="10.0" bold="false" hTextAlign="Center" vTextAlign="Bottom">
			<text><![CDATA[to]]></text>
		</element>
		<element kind="staticText" uuid="994be6a7-05b5-4ef9-9577-2ed953b20190" x="235" y="4" width="314" height="20" forecolor="#595959" fontName="DejaVu Sans" fontSize="16.0" printWhenDetailOverflows="true" hTextAlign="Right">
			<printWhenExpression><![CDATA[$P{reportType}.equals("ven") && $F{issotrx}.equals("N")]]></printWhenExpression>
			<text><![CDATA[Vendor Statement]]></text>
		</element>
	</pageHeader>
	<detail>
		<band height="17">
			<element kind="textField" uuid="9c631d3f-0a97-4b1a-91da-50e30e36d6f5" stretchType="ElementGroupHeight" x="0" y="0" width="47" height="14" fontName="DejaVu Sans" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle">
				<paragraph lineSpacing="1_1_2"/>
				<expression><![CDATA[DateFormat.getDateInstance(DateFormat.SHORT,
        $P{LOCALE}).format($F{dateacct})]]></expression>
				<box leftPadding="3"/>
			</element>
			<element kind="textField" uuid="e2f6368f-f0af-4bf7-83a2-79d74f1f5b6a" stretchType="ElementGroupHeight" x="47" y="0" width="81" height="14" fontName="DejaVu Sans" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle">
				<paragraph lineSpacing="1_1_2"/>
				<expression><![CDATA[$F{documenttype}]]></expression>
			</element>
			<element kind="textField" uuid="67088f29-11e9-4552-8f4f-bf88390a29d8" stretchType="ElementGroupHeight" x="128" y="0" width="202" height="14" fontName="DejaVu Sans" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" vTextAlign="Middle">
				<paragraph lineSpacing="1_1_2"/>
				<expression><![CDATA[$F{description}]]></expression>
			</element>
			<element kind="textField" uuid="37b11b94-f0ef-4332-a602-0addfc0a8980" stretchType="ElementGroupHeight" x="405" y="0" width="75" height="14" fontName="DejaVu Sans" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" hTextAlign="Right" vTextAlign="Middle">
				<paragraph lineSpacing="1_1_2"/>
				<expression><![CDATA[$F{credit}.compareTo(BigDecimal.ZERO) < 0 ? $F{credit}.abs() : $F{credit}]]></expression>
				<patternExpression><![CDATA[$F{credit}.compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
			</element>
			<element kind="textField" uuid="b9cb19fe-6b55-4c0c-9089-a3c3c8e88223" stretchType="ElementGroupHeight" x="330" y="0" width="75" height="14" fontName="DejaVu Sans" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" hTextAlign="Right" vTextAlign="Middle">
				<paragraph lineSpacing="1_1_2"/>
				<expression><![CDATA[$F{debit}.compareTo(BigDecimal.ZERO) < 0 ? $F{debit}.abs() : $F{debit}]]></expression>
				<patternExpression><![CDATA[$F{debit}.compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
			</element>
			<element kind="textField" uuid="50a77f9b-8c48-4f56-837c-590c02bf0166" stretchType="ElementGroupHeight" x="480" y="0" width="75" height="14" fontName="DejaVu Sans" fontSize="8.0" textAdjust="StretchHeight" blankWhenNull="true" hTextAlign="Right" vTextAlign="Middle">
				<paragraph lineSpacing="1_1_2"/>
				<expression><![CDATA["Y".equals($P{sumInitialBalance}) ? new BigDecimal("Y".equals($F{issotrx}) ? $V{customerInitialBalance}.toString() : $V{vendorInitialBalance}.toString()).add($V{SUM}).abs() : $V{SUM}.abs()]]></expression>
				<patternExpression><![CDATA[new BigDecimal("Y".equals($P{sumInitialBalance}) ? new BigDecimal("Y".equals($F{issotrx}) ? $V{customerInitialBalance}.toString() : $V{vendorInitialBalance}.toString()).add($V{SUM}).toString() : $V{SUM}.toString()).compareTo(BigDecimal.ZERO) < 0 ? ("("+$P{NUMBERFORMAT}.toPattern()+")") : $P{NUMBERFORMAT}.toPattern()]]></patternExpression>
				<box rightPadding="3"/>
			</element>
		</band>
	</detail>
</jasperReport>
